{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 100%; padding-top: 80px; padding-bottom: 2rem;">
    <div class="card shadow p-4" style="width: 400px; background-color: #1c1c1c; color: white;">
        
        {% if modo == "registro" %}
            <h3 class="text-center mb-3">Registro</h3>
        {% else %}
            <h3 class="text-center mb-3">Iniciar sesión</h3>
        {% endif %}
        
        {% if error %}
            <div class="alert alert-danger">usuario o contraseña incorrectas</div>
        {% endif %}
        
        <form method="post">
            {% csrf_token %}
            
            {% if modo == "registro" %}
                <!-- Campo usuario -->
                <div class="mb-3">
                    <label for="usuario" class="form-label">Usuario</label>
                    <input type="text" class="form-control" id="usuario" name="usuario" required>
                </div>

                <!-- Campo email -->
                <div class="mb-3">
                    <label for="email" class="form-label">Correo electrónico</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                </div>

                <!-- Campo contraseña -->
                <div class="mb-3">
                    <label for="clave" class="form-label">Contraseña</label>
                    <input type="password" class="form-control" id="clave" name="clave" required>
                </div>

                <button type="submit" class="btn btn-warning w-100 mb-2">Registrarse</button>
                <a href="{% url 'iniciar_sesion' %}" class="btn btn-outline-light w-100">Ya tengo cuenta</a>
            
            {% else %}
                <!-- Campo usuario -->
                <div class="mb-3">
                    <label for="usuario" class="form-label">Usuario</label>
                    <input type="text" class="form-control" id="usuario" name="usuario" required>
                </div>

                <!-- Campo contraseña -->
                <div class="mb-3">
                    <label for="clave" class="form-label">Contraseña</label>
                    <input type="password" class="form-control" id="clave" name="clave" required>
                </div>

                <button type="submit" class="btn btn-warning w-100 mb-2">Iniciar sesión</button>
                <a href="{% url 'registro' %}" class="btn btn-outline-light w-100">Registrarse</a>
            {% endif %}
        </form>
    </div>
</div>
{% endblock %}
